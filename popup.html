<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Topic Discoverer</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="dist/output.css" />
		<!-- <script src="./tailwind_417.js"></script> -->
		<style>
			body {
				font-family: "Inter", sans-serif;
				width: 350px;
				min-height: 200px;
			}
			.hidden {
				display: none !important;
			}
			#results::-webkit-scrollbar {
				width: 6px;
			}
			#results::-webkit-scrollbar-track {
				background: #f1f1f1;
				border-radius: 10px;
			}
			#results::-webkit-scrollbar-thumb {
				background: #888;
				border-radius: 10px;
			}
			#results::-webkit-scrollbar-thumb:hover {
				background: #555;
			}
			.tab-button {
				transition: background-color 0.3s, color 0.3s;
			}
			.tab-button.active {
				background-color: #3b82f6;
				color: white;
			}
			.tab-button:not(.active) {
				background-color: #e5e7eb;
				color: #374151;
			}
		</style>
	</head>
	<body class="bg-slate-50 text-slate-800 p-4">
		<div class="container mx-auto">
			<h1 class="text-xl font-bold text-center text-blue-600 mb-4">
				Topic Discoverer
			</h1>

			<div id="authSection">
				<div class="flex border-b border-gray-300 mb-3">
					<button
						id="loginTabButton"
						class="tab-button flex-1 py-2 px-4 text-sm font-medium rounded-tl-md active"
					>
						Login
					</button>
					<button
						id="registerTabButton"
						class="tab-button flex-1 py-2 px-4 text-sm font-medium rounded-tr-md"
					>
						Register
					</button>
				</div>

				<form id="loginForm" class="space-y-3">
					<div>
						<label
							for="loginUsername"
							class="block text-sm font-medium text-slate-700"
							>Username</label
						>
						<input
							type="text"
							id="loginUsername"
							name="username"
							required
							class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
						/>
					</div>
					<div>
						<label
							for="loginPassword"
							class="block text-sm font-medium text-slate-700"
							>Password</label
						>
						<input
							type="password"
							id="loginPassword"
							name="password"
							required
							class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
						/>
					</div>
					<button
						type="submit"
						id="loginButton"
						class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md"
					>
						Login
					</button>
				</form>

				<form id="registerForm" class="space-y-3 hidden">
					<div>
						<label
							for="registerUsername"
							class="block text-sm font-medium text-slate-700"
							>Username</label
						>
						<input
							type="text"
							id="registerUsername"
							name="username"
							required
							class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
						/>
					</div>
					<div>
						<label
							for="registerEmail"
							class="block text-sm font-medium text-slate-700"
							>Email (Optional)</label
						>
						<input
							type="email"
							id="registerEmail"
							name="email"
							class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
						/>
					</div>
					<div>
						<label
							for="registerPassword"
							class="block text-sm font-medium text-slate-700"
							>Password</label
						>
						<input
							type="password"
							id="registerPassword"
							name="password"
							required
							class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
						/>
					</div>
					<button
						type="submit"
						id="registerButton"
						class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md"
					>
						Register
					</button>
				</form>
				<div id="authStatus" class="mt-2 text-sm text-center"></div>
			</div>

			<div id="appSection" class="hidden">
				<div class="flex justify-between items-center mb-3">
					<p id="loggedInUser" class="text-sm text-slate-600"></p>
					<button
						id="logoutButton"
						class="text-sm text-red-500 hover:text-red-700 underline"
					>
						Logout
					</button>
				</div>

				<button
					id="analyzeButton"
					class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75"
				>
					Analyze Page
				</button>

				<div id="status" class="mt-3 text-sm text-slate-600 text-center">
					Click the button to analyze the current page.
				</div>

				<div id="resultsContainer" class="mt-3 hidden">
					<h2 class="text-md font-semibold text-slate-700 mb-1">
						Potential Keywords:
					</h2>
					<ul
						id="results"
						class="list-disc list-inside bg-white p-3 rounded-lg shadow text-sm max-h-40 overflow-y-auto"
					></ul>
				</div>
			</div>

			<div
				id="error"
				class="mt-3 text-sm text-red-600 hidden p-2 bg-red-100 rounded-md"
			></div>
		</div>
		<script src="popup.js"></script>
	</body>
</html>
